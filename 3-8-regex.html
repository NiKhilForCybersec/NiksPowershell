<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3.8 Regular Expressions - PowerShell & Scripting Guide</title>
    <link rel="stylesheet" href="main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="layout-wrapper">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <div class="sidebar-logo-icon">ğŸ–¥ï¸</div>
                    <div class="sidebar-logo-text">
                        PowerShell & Scripting
                        <span>Ultimate Guide</span>
                    </div>
                </div>
                <div class="search-container">
                    <span class="search-icon">ğŸ”</span>
                    <input type="text" class="search-input" placeholder="Search documentation...">
                    <span class="search-shortcut">Ctrl+K</span>
                </div>
            </div>
            
                        <nav class="sidebar-nav">
                <!-- Section 1: Scripting Fundamentals -->
                <div class="nav-section" data-section="fundamentals">
                    <div class="nav-section-header">
                        <span class="nav-section-icon">ğŸ“š</span>
                        Scripting Fundamentals
                        <span class="nav-section-toggle">â–¼</span>
                    </div>
                    <div class="nav-section-content">
                        <a href="1-1-scripting-overview.html" class="nav-link"><span class="nav-link-number">1.1</span> Scripting Overview</a>
                        <a href="1-2-choosing-right-tool.html" class="nav-link"><span class="nav-link-number">1.2</span> Choosing the Right Tool</a>
                        <a href="1-3-setting-up-environment.html" class="nav-link"><span class="nav-link-number">1.3</span> Setting Up Environment</a>
                    </div>
                </div>

                <!-- Section 2: PowerShell Deep Dive -->
                <div class="nav-section" data-section="powershell">
                    <div class="nav-section-header">
                        <span class="nav-section-icon">ğŸ”·</span>
                        PowerShell Deep Dive
                        <span class="nav-section-toggle">â–¼</span>
                    </div>
                    <div class="nav-section-content">
                        <a href="2-1-powershell-intro.html" class="nav-link"><span class="nav-link-number">2.1</span> PowerShell Introduction</a>
                        <a href="2-2-cmdlet-anatomy.html" class="nav-link"><span class="nav-link-number">2.2</span> Cmdlet Anatomy</a>
                        <a href="2-3-pipeline-mastery.html" class="nav-link"><span class="nav-link-number">2.3</span> Pipeline Mastery</a>
                        <a href="2-4-variables-data-types.html" class="nav-link"><span class="nav-link-number">2.4</span> Variables & Data Types</a>
                        <a href="2-5-working-with-objects.html" class="nav-link"><span class="nav-link-number">2.5</span> Working with Objects</a>
                        <a href="2-6-control-structures.html" class="nav-link"><span class="nav-link-number">2.6</span> Control Structures</a>
                        <a href="2-7-functions.html" class="nav-link"><span class="nav-link-number">2.7</span> Functions</a>
                        <a href="2-8-files.html" class="nav-link"><span class="nav-link-number">2.8</span> Working with Files</a>
                        <a href="2-9-wmi-cim.html" class="nav-link"><span class="nav-link-number">2.9</span> WMI & CIM</a>
                        <a href="2-10-registry.html" class="nav-link"><span class="nav-link-number">2.10</span> Registry Operations</a>
                        <a href="2-11-eventlog-analysis.html" class="nav-link"><span class="nav-link-number">2.11</span> Event Log Analysis</a>
                        <a href="2-12-active-directory.html" class="nav-link"><span class="nav-link-number">2.12</span> Active Directory</a>
                        <a href="2-13-networking-commands.html" class="nav-link"><span class="nav-link-number">2.13</span> Networking Commands</a>
                        <a href="2-14-web-requests.html" class="nav-link"><span class="nav-link-number">2.14</span> Web Requests & APIs</a>
                        <a href="2-15-remoting-jobs.html" class="nav-link"><span class="nav-link-number">2.15</span> Remoting & Jobs</a>
                        <a href="2-16-error-handling.html" class="nav-link"><span class="nav-link-number">2.16</span> Error Handling</a>
                        <a href="2-17-modules-profiles.html" class="nav-link"><span class="nav-link-number">2.17</span> Modules & Profiles</a>
                    </div>
                </div>

                <!-- Section 3: Bash Scripting -->
                <div class="nav-section" data-section="bash">
                    <div class="nav-section-header">
                        <span class="nav-section-icon">ğŸ§</span>
                        Bash Scripting
                        <span class="nav-section-toggle">â–¼</span>
                    </div>
                    <div class="nav-section-content">
                        <a href="3-1-bash-intro.html" class="nav-link"><span class="nav-link-number">3.1</span> Bash Introduction</a>
                        <a href="3-2-bash-variables.html" class="nav-link"><span class="nav-link-number">3.2</span> Variables & Data Types</a>
                        <a href="3-3-control-structures.html" class="nav-link"><span class="nav-link-number">3.3</span> Control Structures</a>
                        <a href="3-4-bash-functions.html" class="nav-link"><span class="nav-link-number">3.4</span> Functions & Scripts</a>
                        <a href="3-5-file-io.html" class="nav-link"><span class="nav-link-number">3.5</span> File I/O</a>
                        <a href="3-6-process-management.html" class="nav-link"><span class="nav-link-number">3.6</span> Process Management</a>
                        <a href="3-7-system-admin.html" class="nav-link"><span class="nav-link-number">3.7</span> System Administration</a>
                        <a href="3-8-regex.html" class="nav-link"><span class="nav-link-number">3.8</span> Regular Expressions</a>
                        <a href="3-9-text-processing.html" class="nav-link"><span class="nav-link-number">3.9</span> Text Processing</a>
                        <a href="3-10-bash-networking.html" class="nav-link"><span class="nav-link-number">3.10</span> Bash Networking</a>
                    </div>
                </div>

                <!-- Section 4: Batch/CMD Scripting -->
                <div class="nav-section" data-section="batch">
                    <div class="nav-section-header">
                        <span class="nav-section-icon">ğŸ“¦</span>
                        Batch/CMD Scripting
                        <span class="nav-section-toggle">â–¼</span>
                    </div>
                    <div class="nav-section-content">
                        <a href="4-1-batch-intro.html" class="nav-link"><span class="nav-link-number">4.1</span> Batch Introduction</a>
                        <a href="4-2-batch-variables.html" class="nav-link"><span class="nav-link-number">4.2</span> Variables & Parameters</a>
                        <a href="4-3-batch-control-flow.html" class="nav-link"><span class="nav-link-number">4.3</span> Control Flow</a>
                        <a href="4-4-batch-file-operations.html" class="nav-link"><span class="nav-link-number">4.4</span> File Operations</a>
                    </div>
                </div>

                <!-- Section 5: Security Automation -->
                <div class="nav-section" data-section="security">
                    <div class="nav-section-header">
                        <span class="nav-section-icon">ğŸ›¡ï¸</span>
                        Security Automation
                        <span class="nav-section-toggle">â–¼</span>
                    </div>
                    <div class="nav-section-content">
                        <a href="5-1-incident-response.html" class="nav-link"><span class="nav-link-number">5.1</span> Incident Response</a>
                        <a href="5-2-threat-hunting.html" class="nav-link"><span class="nav-link-number">5.2</span> Threat Hunting</a>
                        <a href="5-3-vulnerability-scanning.html" class="nav-link"><span class="nav-link-number">5.3</span> Vulnerability Scanning</a>
                        <a href="5-4-forensics-scripts.html" class="nav-link"><span class="nav-link-number">5.4</span> Forensics Scripts</a>
                        <a href="5-5-siem-integration.html" class="nav-link"><span class="nav-link-number">5.5</span> SIEM Integration</a>
                        <a href="5-6-edr-automation.html" class="nav-link"><span class="nav-link-number">5.6</span> EDR Automation</a>
                        <a href="5-7-compliance-automation.html" class="nav-link"><span class="nav-link-number">5.7</span> Compliance Automation</a>
                        <a href="5-8-log-analysis.html" class="nav-link"><span class="nav-link-number">5.8</span> Log Analysis</a>
                        <a href="5-9-malware-analysis.html" class="nav-link"><span class="nav-link-number">5.9</span> Malware Analysis</a>
                    </div>
                </div>

                <!-- Section 6: Python Scripting -->
                <div class="nav-section" data-section="python">
                    <div class="nav-section-header">
                        <span class="nav-section-icon">ğŸ</span>
                        Python Scripting
                        <span class="nav-section-toggle">â–¼</span>
                    </div>
                    <div class="nav-section-content">
                        <a href="6-1-python-security-intro.html" class="nav-link"><span class="nav-link-number">6.1</span> Python for Security</a>
                        <a href="6-2-python-fundamentals.html" class="nav-link"><span class="nav-link-number">6.2</span> Python Fundamentals</a>
                        <a href="6-3-python-functions.html" class="nav-link"><span class="nav-link-number">6.3</span> Functions & Modules</a>
                        <a href="6-4-python-file-handling.html" class="nav-link"><span class="nav-link-number">6.4</span> File & Data Handling</a>
                        <a href="6-5-python-networking.html" class="nav-link"><span class="nav-link-number">6.5</span> Python Networking</a>
                        <a href="6-6-python-security-automation.html" class="nav-link"><span class="nav-link-number">6.6</span> Security Automation</a>
                        <a href="6-7-python-forensics.html" class="nav-link"><span class="nav-link-number">6.7</span> Forensics & Log Analysis</a>
                        <a href="6-8-python-apis.html" class="nav-link"><span class="nav-link-number">6.8</span> Python & APIs</a>
                    </div>
                </div>

                <!-- Section 7: Cloud Automation -->
                <div class="nav-section collapsed" data-section="cloud">
                    <div class="nav-section-header">
                        <span class="nav-section-icon">â˜ï¸</span>
                        Cloud Automation
                        <span class="nav-section-toggle">â–¼</span>
                    </div>
                    <div class="nav-section-content">
                        <a href="7-1-azure-automation.html" class="nav-link"><span class="nav-link-number">7.1</span> Azure Automation</a>
                    </div>
                </div>

                <!-- Section 8: Real-World Projects -->
                <div class="nav-section collapsed" data-section="projects">
                    <div class="nav-section-header">
                        <span class="nav-section-icon">ğŸš€</span>
                        Real-World Projects
                        <span class="nav-section-toggle">â–¼</span>
                    </div>
                    <div class="nav-section-content">
                        <a href="8-1-security-dashboard.html" class="nav-link"><span class="nav-link-number">8.1</span> Security Dashboard</a>
                        <a href="8-2-log-aggregator.html" class="nav-link"><span class="nav-link-number">8.2</span> Log Aggregator</a>
                        <a href="8-3-asset-inventory.html" class="nav-link"><span class="nav-link-number">8.3</span> Asset Inventory</a>
                    </div>
                </div>

                <!-- Section 9: Troubleshooting -->
                <div class="nav-section collapsed" data-section="troubleshooting">
                    <div class="nav-section-header">
                        <span class="nav-section-icon">ğŸ”§</span>
                        Troubleshooting
                        <span class="nav-section-toggle">â–¼</span>
                    </div>
                    <div class="nav-section-content">
                        <a href="9-1-common-errors.html" class="nav-link"><span class="nav-link-number">9.1</span> Common Errors</a>
                        <a href="9-2-debugging-techniques.html" class="nav-link"><span class="nav-link-number">9.2</span> Debugging Techniques</a>
                        <a href="9-3-performance-issues.html" class="nav-link"><span class="nav-link-number">9.3</span> Performance Issues</a>
                    </div>
                </div>

                <!-- Section 10: Reference -->
                <div class="nav-section collapsed" data-section="reference">
                    <div class="nav-section-header">
                        <span class="nav-section-icon">ğŸ“–</span>
                        Reference
                        <span class="nav-section-toggle">â–¼</span>
                    </div>
                    <div class="nav-section-content">
                        <a href="10-1-cheat-sheets.html" class="nav-link"><span class="nav-link-number">10.1</span> Cheat Sheets</a>
                        <a href="10-2-interview-preparation.html" class="nav-link"><span class="nav-link-number">10.2</span> Interview Preparation</a>
                        <a href="10-3-log-paths-reference.html" class="nav-link"><span class="nav-link-number">10.3</span> Log Paths Reference</a>
                    </div>
                </div>
            </nav>
        </aside>





        <!-- Main Content Area -->
        <main class="main-content">
            <div class="content-wrapper">
                <!-- Breadcrumb -->
                <nav class="breadcrumb">
                    <a href="index.html">Home</a>
                    <span class="breadcrumb-separator">â€º</span>
                    <span class="current">Current Page</span>
                </nav>

                <!-- Page Title -->
                <h1>3.8 Regular Expressions</h1>

                <!-- What You'll Learn Box -->
                <div class="info-box overview-box">
                    <div class="info-box-header">
                        <div class="info-box-icon">ğŸ“–</div>
                        <div class="info-box-title">What You'll Learn</div>
                    </div>
                    <ul>
                        <li>Understand regex syntax and metacharacters</li>
                        <li>Use grep with regular expressions</li>
                        <li>Apply regex in sed and awk</li>
                        <li>Match patterns for security log analysis</li>
                    </ul>
                </div>

                <!-- Memory Aid -->
                <div class="info-box memory-box">
                    <div class="info-box-header">
                        <div class="info-box-icon">ğŸ§ </div>
                        <div class="info-box-title">Memory Aid: Regex Basics</div>
                    </div>
                    <ul>
                        <li><strong>.</strong> â†’ Any single character</li>
                        <li><strong>*</strong> â†’ Zero or more of previous</li>
                        <li><strong>+</strong> â†’ One or more of previous (ERE)</li>
                        <li><strong>?</strong> â†’ Zero or one of previous (ERE)</li>
                        <li><strong>^</strong> â†’ Start of line</li>
                        <li><strong>$</strong> â†’ End of line</li>
                        <li><strong>[abc]</strong> â†’ Character class</li>
                        <li><strong>\d</strong> â†’ Digit (Perl-style)</li>
                    </ul>
                </div>

                <!-- Regex Syntax -->
                <h2>Regular Expression Syntax</h2>

                <div class="ascii-diagram">
                    <div class="ascii-diagram-title">ğŸ“Š Regex Quick Reference</div>
<pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        REGULAR EXPRESSION SYNTAX                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  ANCHORS           QUANTIFIERS        CHARACTER CLASSES
  â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  ^   Start         *   0 or more      [abc]    a, b, or c
  $   End           +   1 or more      [^abc]   Not a, b, c
  \b  Word bound    ?   0 or 1         [a-z]    Range
                    {n} Exactly n      [0-9]    Digits
                    {n,m} n to m       .        Any char

  ESCAPE SEQUENCES (grep -P / Perl)    GROUPS
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”€â”€â”€â”€â”€â”€
  \d   Digit [0-9]                     (abc)    Capture group
  \w   Word char [a-zA-Z0-9_]          (?:abc)  Non-capture
  \s   Whitespace                      |        OR operator
  \D   Non-digit
  \W   Non-word
</pre>
                </div>

                <!-- grep with Regex -->
                <h2>Using grep with Regex</h2>

                <div class="code-container">
                    <div class="code-header">
                        <span class="code-language bash">
                            <span class="code-language-icon">ğŸ§</span>
                            Bash - grep Regex
                        </span>
                        <button class="code-copy-btn"><span>ğŸ“‹</span> Copy</button>
                    </div>
                    <div class="code-block">
<pre><code><span class="token-comment">#!/bin/bash</span>

<span class="token-comment"># Basic regex (BRE)</span>
<span class="token-function">grep</span> <span class="token-string">'error'</span> logfile.txt         <span class="token-comment"># Literal match</span>
<span class="token-function">grep</span> <span class="token-string">'^error'</span> logfile.txt        <span class="token-comment"># Lines starting with 'error'</span>
<span class="token-function">grep</span> <span class="token-string">'error$'</span> logfile.txt        <span class="token-comment"># Lines ending with 'error'</span>
<span class="token-function">grep</span> <span class="token-string">'^$'</span> logfile.txt             <span class="token-comment"># Empty lines</span>

<span class="token-comment"># Extended regex (ERE) - use -E or egrep</span>
<span class="token-function">grep</span> -E <span class="token-string">'error|warning'</span> logfile.txt    <span class="token-comment"># OR pattern</span>
<span class="token-function">grep</span> -E <span class="token-string">'[0-9]+'</span> logfile.txt           <span class="token-comment"># One or more digits</span>
<span class="token-function">grep</span> -E <span class="token-string">'[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}'</span> logfile.txt  <span class="token-comment"># IP pattern</span>

<span class="token-comment"># Perl-compatible regex (PCRE) - use -P</span>
<span class="token-function">grep</span> -P <span class="token-string">'\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}'</span> logfile.txt  <span class="token-comment"># IP with \d</span>
<span class="token-function">grep</span> -P <span class="token-string">'\b\w+@\w+\.\w+\b'</span> logfile.txt    <span class="token-comment"># Simple email pattern</span>

<span class="token-comment"># Case insensitive</span>
<span class="token-function">grep</span> -i <span class="token-string">'error'</span> logfile.txt

<span class="token-comment"># Invert match (lines NOT matching)</span>
<span class="token-function">grep</span> -v <span class="token-string">'debug'</span> logfile.txt

<span class="token-comment"># Show line numbers</span>
<span class="token-function">grep</span> -n <span class="token-string">'error'</span> logfile.txt

<span class="token-comment"># Count matches</span>
<span class="token-function">grep</span> -c <span class="token-string">'error'</span> logfile.txt

<span class="token-comment"># Only show matched portion</span>
<span class="token-function">grep</span> -o -E <span class="token-string">'[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+'</span> logfile.txt</code></pre>
                    </div>
                </div>

                <!-- sed with Regex -->
                <h2>Using sed with Regex</h2>

                <div class="code-container">
                    <div class="code-header">
                        <span class="code-language bash">
                            <span class="code-language-icon">ğŸ§</span>
                            Bash - sed Regex
                        </span>
                        <button class="code-copy-btn"><span>ğŸ“‹</span> Copy</button>
                    </div>
                    <div class="code-block">
<pre><code><span class="token-comment">#!/bin/bash</span>

<span class="token-comment"># Basic substitution</span>
<span class="token-function">sed</span> <span class="token-string">'s/error/ERROR/'</span> logfile.txt         <span class="token-comment"># First match per line</span>
<span class="token-function">sed</span> <span class="token-string">'s/error/ERROR/g'</span> logfile.txt        <span class="token-comment"># Global (all matches)</span>
<span class="token-function">sed</span> <span class="token-string">'s/error/ERROR/gi'</span> logfile.txt       <span class="token-comment"># Global, case-insensitive</span>

<span class="token-comment"># Using capture groups</span>
<span class="token-function">echo</span> <span class="token-string">"user: admin"</span> | <span class="token-function">sed</span> <span class="token-string">'s/user: \(.*\)/User is \1/'</span>
<span class="token-comment"># Output: User is admin</span>

<span class="token-comment"># Extended regex with -E</span>
<span class="token-function">echo</span> <span class="token-string">"IP: 192.168.1.100"</span> | <span class="token-function">sed</span> -E <span class="token-string">'s/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/\1.\2.x.x/'</span>
<span class="token-comment"># Output: IP: 192.168.x.x</span>

<span class="token-comment"># Delete lines matching pattern</span>
<span class="token-function">sed</span> <span class="token-string">'/^#/d'</span> config.txt                   <span class="token-comment"># Delete comment lines</span>
<span class="token-function">sed</span> <span class="token-string">'/^$/d'</span> config.txt                   <span class="token-comment"># Delete empty lines</span>

<span class="token-comment"># Print only matching lines</span>
<span class="token-function">sed</span> -n <span class="token-string">'/error/p'</span> logfile.txt             <span class="token-comment"># Like grep</span>

<span class="token-comment"># Modify file in place</span>
<span class="token-function">sed</span> -i <span class="token-string">'s/old/new/g'</span> file.txt             <span class="token-comment"># Edit in place</span>
<span class="token-function">sed</span> -i.bak <span class="token-string">'s/old/new/g'</span> file.txt        <span class="token-comment"># Backup original</span>

<span class="token-comment"># Multiple operations</span>
<span class="token-function">sed</span> -e <span class="token-string">'s/foo/bar/'</span> -e <span class="token-string">'s/baz/qux/'</span> file.txt</code></pre>
                    </div>
                </div>

                <!-- Security Patterns -->
                <h2>Security-Related Patterns</h2>

                <div class="code-container">
                    <div class="code-header">
                        <span class="code-language bash">
                            <span class="code-language-icon">ğŸ§</span>
                            Bash - Security Regex Patterns
                        </span>
                        <button class="code-copy-btn"><span>ğŸ“‹</span> Copy</button>
                    </div>
                    <div class="code-block">
<pre><code><span class="token-comment">#!/bin/bash</span>

<span class="token-comment"># IP Address validation</span>
IP_REGEX=<span class="token-string">'^([0-9]{1,3}\.){3}[0-9]{1,3}$'</span>
<span class="token-keyword">if</span> [[ <span class="token-string">"192.168.1.100"</span> =~ <span class="token-variable">$IP_REGEX</span> ]]; <span class="token-keyword">then</span>
    <span class="token-function">echo</span> <span class="token-string">"Valid IP"</span>
<span class="token-keyword">fi</span>

<span class="token-comment"># Extract IPs from log</span>
<span class="token-function">grep</span> -oP <span class="token-string">'\b\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\b'</span> /var/log/auth.log | <span class="token-function">sort</span> -u

<span class="token-comment"># Find failed SSH logins</span>
<span class="token-function">grep</span> -E <span class="token-string">'Failed password for .* from [0-9.]+'</span> /var/log/auth.log

<span class="token-comment"># Extract usernames from failed logins</span>
<span class="token-function">grep</span> <span class="token-string">'Failed password'</span> /var/log/auth.log | \
    <span class="token-function">sed</span> -E <span class="token-string">'s/.*Failed password for (invalid user )?([^ ]+).*/\2/'</span> | \
    <span class="token-function">sort</span> | <span class="token-function">uniq</span> -c | <span class="token-function">sort</span> -rn

<span class="token-comment"># Email pattern</span>
EMAIL_REGEX=<span class="token-string">'^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'</span>

<span class="token-comment"># Find URLs in file</span>
<span class="token-function">grep</span> -oP <span class="token-string">'https?://[^\s"<>]+'</span> document.txt

<span class="token-comment"># MAC address pattern</span>
<span class="token-function">grep</span> -oE <span class="token-string">'([0-9A-Fa-f]{2}:){5}[0-9A-Fa-f]{2}'</span> network.log

<span class="token-comment"># Find potential passwords in config (security audit)</span>
<span class="token-function">grep</span> -iE <span class="token-string">'(password|passwd|pwd|secret|key)\s*[=:]\s*\S+'</span> *.conf

<span class="token-comment"># Extract timestamps</span>
<span class="token-function">grep</span> -oE <span class="token-string">'[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}'</span> logfile.txt</code></pre>
                    </div>
                </div>

                <!-- Bash Regex -->
                <h2>Bash Built-in Regex</h2>

                <div class="code-container">
                    <div class="code-header">
                        <span class="code-language bash">
                            <span class="code-language-icon">ğŸ§</span>
                            Bash - [[ =~ ]] Operator
                        </span>
                        <button class="code-copy-btn"><span>ğŸ“‹</span> Copy</button>
                    </div>
                    <div class="code-block">
<pre><code><span class="token-comment">#!/bin/bash</span>

<span class="token-comment"># Basic pattern matching</span>
string=<span class="token-string">"Hello World 123"</span>

<span class="token-keyword">if</span> [[ <span class="token-variable">$string</span> =~ [0-9]+ ]]; <span class="token-keyword">then</span>
    <span class="token-function">echo</span> <span class="token-string">"Contains numbers"</span>
    <span class="token-function">echo</span> <span class="token-string">"Matched: ${BASH_REMATCH[0]}"</span>  <span class="token-comment"># 123</span>
<span class="token-keyword">fi</span>

<span class="token-comment"># Capture groups with BASH_REMATCH</span>
log_line=<span class="token-string">"2024-06-15 Error: Connection failed"</span>
pattern=<span class="token-string">'([0-9]{4}-[0-9]{2}-[0-9]{2}) ([A-Za-z]+): (.*)'</span>

<span class="token-keyword">if</span> [[ <span class="token-variable">$log_line</span> =~ <span class="token-variable">$pattern</span> ]]; <span class="token-keyword">then</span>
    <span class="token-function">echo</span> <span class="token-string">"Date: ${BASH_REMATCH[1]}"</span>      <span class="token-comment"># 2024-06-15</span>
    <span class="token-function">echo</span> <span class="token-string">"Level: ${BASH_REMATCH[2]}"</span>     <span class="token-comment"># Error</span>
    <span class="token-function">echo</span> <span class="token-string">"Message: ${BASH_REMATCH[3]}"</span>   <span class="token-comment"># Connection failed</span>
<span class="token-keyword">fi</span>

<span class="token-comment"># Validate input</span>
validate_ip() {
    <span class="token-keyword">local</span> ip=<span class="token-variable">$1</span>
    <span class="token-keyword">local</span> regex=<span class="token-string">'^([0-9]{1,3}\.){3}[0-9]{1,3}$'</span>
    
    <span class="token-keyword">if</span> [[ <span class="token-variable">$ip</span> =~ <span class="token-variable">$regex</span> ]]; <span class="token-keyword">then</span>
        <span class="token-comment"># Additional octet validation</span>
        IFS=<span class="token-string">'.'</span> <span class="token-function">read</span> -ra octets &lt;&lt;&lt; <span class="token-string">"$ip"</span>
        <span class="token-keyword">for</span> octet <span class="token-keyword">in</span> <span class="token-string">"${octets[@]}"</span>; <span class="token-keyword">do</span>
            <span class="token-keyword">if</span> (( octet &gt; <span class="token-number">255</span> )); <span class="token-keyword">then</span>
                <span class="token-keyword">return</span> <span class="token-number">1</span>
            <span class="token-keyword">fi</span>
        <span class="token-keyword">done</span>
        <span class="token-keyword">return</span> <span class="token-number">0</span>
    <span class="token-keyword">fi</span>
    <span class="token-keyword">return</span> <span class="token-number">1</span>
}

<span class="token-keyword">if</span> validate_ip <span class="token-string">"192.168.1.100"</span>; <span class="token-keyword">then</span>
    <span class="token-function">echo</span> <span class="token-string">"Valid IP address"</span>
<span class="token-keyword">fi</span></code></pre>
                    </div>
                </div>

                <!-- Best Practices -->
                <div class="info-box best-practice-box">
                    <div class="info-box-header">
                        <div class="info-box-icon">âœ…</div>
                        <div class="info-box-title">Best Practices: Regex</div>
                    </div>
                    <ul>
                        <li><strong>Test patterns first:</strong> Use tools like regex101.com</li>
                        <li><strong>Store in variables:</strong> Makes scripts more readable</li>
                        <li><strong>Use -E for ERE:</strong> Cleaner syntax with +, ?, |</li>
                        <li><strong>Be specific:</strong> <code>\d{1,3}</code> instead of <code>\d+</code> for IPs</li>
                        <li><strong>Escape special chars:</strong> Use <code>\.</code> for literal dot</li>
                        <li><strong>Consider performance:</strong> Simple patterns are faster</li>
                    </ul>
                </div>

                <!-- Key Takeaways -->
                <h2>Key Takeaways</h2>
                <ul>
                    <li>Use <code>grep -E</code> for extended regex (ERE)</li>
                    <li>Use <code>grep -P</code> for Perl-compatible regex (PCRE)</li>
                    <li>Bash <code>[[ =~ ]]</code> captures groups in <code>BASH_REMATCH</code></li>
                    <li>Store regex patterns in variables for readability</li>
                    <li>Common patterns: IP addresses, emails, timestamps, URLs</li>
                    <li>Test regex before using in production scripts</li>
                </ul>

                <!-- Navigation -->
                                                                                <div class="page-navigation">
                    <a href="3-7-system-admin.html" class="nav-button prev">
                        <span class="nav-button-label">Previous</span>
                        <span class="nav-button-title">â† 3.7 System Administration</span>
                    </a>
                    <a href="3-9-text-processing.html" class="nav-button next">
                        <span class="nav-button-label">Next</span>
                        <span class="nav-button-title">3.9 Text Processing â†’</span>
                    </a>
                </div>
            </div>
        </main>
    </div>

    <!-- Search Modal -->
    <div class="search-modal" id="searchModal">
        <div class="search-modal-content">
            <input type="text" class="search-modal-input" id="searchModalInput" placeholder="Search documentation..." autocomplete="off">
            <div class="search-modal-results" id="searchResults"></div>
        </div>
    </div>

    <!-- Mobile Toggle -->
    <button class="mobile-toggle">â˜°</button>

    <script src="main.js"></script>
</body>
</html>
